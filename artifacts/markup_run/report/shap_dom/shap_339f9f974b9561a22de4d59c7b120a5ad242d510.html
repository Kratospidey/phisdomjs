<html><head><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta charset='utf-8'><meta name='color-scheme' content='dark'><title>SHAP (DOM)</title><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif;margin:0}.wrap{max-width:1200px;margin:0 auto;padding:16px}.top{display:flex;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid #262b36;background:#0b0e14;position:sticky;top:0}.pill{display:inline-block;padding:2px 8px;border-radius:999px;background:#1f2330;color:#cbd5e1;border:1px solid #2a2f3a;font-size:12px}a{color:#8ab4f8}.grid{display:grid;grid-template-columns:320px 1fr;gap:16px;margin-top:16px}.card{background:#0f1320;border:1px solid #262b36;border-radius:8px;padding:12px}.kv{display:grid;grid-template-columns:1fr auto;gap:6px 10px;font-size:14px} .kv div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tok{display:inline-block;margin:2px 2px;padding:2px 4px;border-radius:4px}.legend span{display:inline-block;padding:3px 8px;border-radius:999px;margin-right:8px;border:1px solid #333}.pos{background:rgba(235,245,255,0.3);color:#9cc4ff} .neg{background:rgba(255,235,235,0.3);color:#ff9c9c}.body{background:#0b0e14}.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', monospace}.tbl{width:100%;border-collapse:collapse} .tbl td,.tbl th{border:1px solid #333;padding:6px 8px} .tbl th{background:#0b0e14}</style></head><body class='body'><div style="padding:8px 10px;margin:8px 0;border:1px solid #2a2f3a;background:#0b0e14;color:#cbd5e1;border-radius:6px;"><div style='display:flex;align-items:center;gap:10px'><div>Source: <a href='http://ok.ru/' target='_blank' style='color:#8ab4f8'>http://ok.ru/</a></div><div style='margin-left:auto'></div></div></div><div class='top'><div class='pill'>Explain</div><div class='mono' style='opacity:.8'>SHAP (DOM)</div><div style='margin-left:auto'><a href='http://ok.ru/' target='_blank'>http://ok.ru/</a></div><div class='pill' style='margin-left:8px;background:#1a2a1a;border-color:#245c2a;color:#a7e3a7'>pred: benign Â· 96.22%</div></div><div class='wrap'><div class='grid'><div class='card'><h3 style='margin:0 0 8px 0'>Details</h3><div class='kv'><div style='color:#9aa4b2'>ID</div><div class='mono'>339f9f974b9561a22de4d59c7b120a5ad242d510</div><div style='color:#9aa4b2'>Explainer</div><div class='mono'>SHAP (DOM)</div><div style='color:#9aa4b2'>Device</div><div class='mono'>cuda</div><div style='color:#9aa4b2'>P(benign)</div><div class='mono'>0.962</div><div style='color:#9aa4b2'>P(phish)</div><div class='mono'>0.038</div><div style='color:#9aa4b2'>Chars</div><div class='mono'>1500</div><div style='color:#9aa4b2'>Tokens</div><div class='mono'>222</div></div><div style='margin-top:8px'><div style='margin:4px 0'><div class='mono' style='font-size:12px;margin-bottom:2px'>benign: 96.2%</div><div style='height:10px;background:#1f2330;border:1px solid #2a2f3a;border-radius:5px;overflow:hidden'><div style='height:100%;width:96%;background:linear-gradient(90deg,#2b6cb0,#63b3ed)'></div></div></div><div style='margin:4px 0'><div class='mono' style='font-size:12px;margin-bottom:2px'>phish: 3.8%</div><div style='height:10px;background:#1f2330;border:1px solid #2a2f3a;border-radius:5px;overflow:hidden'><div style='height:100%;width:3%;background:linear-gradient(90deg,#2b6cb0,#63b3ed)'></div></div></div></div></div><div class='card'><div class='legend' style='margin-bottom:8px'><span class='pos'>supports class 1</span><span class='neg'>opposes class 1</span></div><div style='display:flex;gap:12px;align-items:center;margin-bottom:10px'><label class='mono' style='font-size:12px'>Heatmap: <select id='modeSel'><option value='signed' selected>signed</option><option value='absolute'>absolute</option></select></label><label class='mono' style='font-size:12px'>Font size: <input id='fs' type='range' min='10' max='24' step='1' value='14'> <span id='fsval' class='mono'>14</span>px</label><button id='csv_all' class='pill'>CSV (all)</button><button id='csv' class='pill'>CSV (filtered)</button><button id='copycsv' class='pill'>Copy CSV</button><label class='mono' style='font-size:12px;display:flex;align-items:center;gap:6px'><input id='showspecial' type='checkbox' checked> show special tokens</label></div><div id='tokview' class='mono' style='line-height:1.9'></div><noscript><div>JavaScript disabled; showing static tokens:</div><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>html&lt;</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>html </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>class="</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>anonym__design21 </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>anonym__design23 </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>anonym__wide </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>vkui </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>vkui--</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>vkIdOk--</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>light </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>webkit </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>chrome </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>nottouch </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>small-</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>toolbar </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>mail-</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>ext-</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>toolbar-</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>disabled </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>__ui-</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>theme_colors-</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>update </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>__ui-</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>theme_enabled </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>__ui-</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>theme_light </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>__is-</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>layout-</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>v1 </span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>__optimize-</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>mobile-</span><span class='tok' style='background:rgba(254,254,255,0.154)' title='w=0.0005'>inp" </span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>data-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>client-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>state="</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>ms:</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>0;</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>dcss:</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>0;</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>mpv2:</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>1;</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>dz:</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>0" </span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>data-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>initial-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>state-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>id="</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>anonymMain" </span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>data-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>network-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>errors="" </span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>data-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>stat-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>id="</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>2ef4e9ac-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>d144-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>403d-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>9c91-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>2bcd4a795b2c" </span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>data-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>use-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>hook-</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>activator="</span><span class='tok' style='background:rgba(254,254,255,0.150)' title='w=0.0000'>1" </span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>lang="</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>ru" </span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>prefix="</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>og: </span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>http://</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>ogp.</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>me/</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>ns# </span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>video: </span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>http://</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>ogp.</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>me/</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>ns/</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>video# </span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>ya: </span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>http://</span><span class='tok' style='background:rgba(255,235,250,0.310)' title='w=-0.0245'>webmaster.</span><span class='tok' style='background:rgba(255,235,250,0.310)' title='w=-0.0245'>yandex.</span><span class='tok' style='background:rgba(255,235,245,0.453)' title='w=-0.0465'>ru/</span><span class='tok' style='background:rgba(255,235,245,0.453)' title='w=-0.0465'>vocabularies/"&gt;&lt;</span><span class='tok' style='background:rgba(255,235,249,0.318)' title='w=-0.0258'>head&gt;</span><span class='tok' style='background:rgba(255,235,249,0.318)' title='w=-0.0258'>META </span><span class='tok' style='background:rgba(255,235,249,0.318)' title='w=-0.0258'>START&lt;</span><span class='tok' style='background:rgba(255,235,249,0.318)' title='w=-0.0258'>meta </span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>content="</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>text/</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>html; </span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>charset=</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>utf-</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>8" </span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>http-</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0013'>equiv="</span><span class='tok' style='background:rgba(255,235,254,0.163)' title='w=-0.0020'>Content-</span><span class='tok' style='background:rgba(255,235,254,0.163)' title='w=-0.0020'>Type"/&gt;&lt;</span><span class='tok' style='background:rgba(255,235,254,0.163)' title='w=-0.0020'>meta </span><span class='tok' style='background:rgba(255,235,254,0.163)' title='w=-0.0020'>content="</span><span class='tok' style='background:rgba(255,235,254,0.163)' title='w=-0.0020'>IE=</span><span class='tok' style='background:rgba(255,235,254,0.163)' title='w=-0.0020'>edge" </span><span class='tok' style='background:rgba(255,235,254,0.163)' title='w=-0.0020'>http-</span><span class='tok' style='background:rgba(255,235,254,0.163)' title='w=-0.0020'>equiv="</span><span class='tok' style='background:rgba(255,235,240,0.609)' title='w=-0.0703'>X-</span><span class='tok' style='background:rgba(255,235,240,0.609)' title='w=-0.0703'>UA-</span><span class='tok' style='background:rgba(255,235,235,0.800)' title='w=-0.0997'>Compatible"/&gt;&lt;</span><span class='tok' style='background:rgba(255,235,235,0.800)' title='w=-0.0997'>title&gt;</span><span class='tok' style='background:rgba(255,235,246,0.426)' title='w=-0.0423'>Ð¡Ð¾ÑÐ¸Ð°Ð»ÑÐ½Ð°Ñ </span><span class='tok' style='background:rgba(255,235,246,0.426)' title='w=-0.0423'>ÑÐµÑÑ </span><span class='tok' style='background:rgba(255,235,246,0.426)' title='w=-0.0423'>ÐÐ´Ð½Ð¾ÐºÐ»Ð°ÑÑÐ½Ð¸ÐºÐ¸. </span><span class='tok' style='background:rgba(255,235,246,0.426)' title='w=-0.0423'>ÐÐ±ÑÐµÐ½Ð¸Ðµ </span><span class='tok' style='background:rgba(255,235,252,0.217)' title='w=-0.0103'>Ñ </span><span class='tok' style='background:rgba(255,235,252,0.217)' title='w=-0.0103'>Ð´ÑÑÐ·ÑÑÐ¼Ð¸ </span><span class='tok' style='background:rgba(255,235,252,0.217)' title='w=-0.0103'>Ð² </span><span class='tok' style='background:rgba(255,235,252,0.217)' title='w=-0.0103'>ÐÐ. </span><span class='tok' style='background:rgba(255,235,253,0.190)' title='w=-0.0061'>ÐÐ°ÑÐµ </span><span class='tok' style='background:rgba(255,235,253,0.190)' title='w=-0.0061'>Ð¼ÐµÑÑÐ¾ </span><span class='tok' style='background:rgba(255,235,253,0.190)' title='w=-0.0061'>Ð²ÑÑÑÐµÑÐ¸ </span><span class='tok' style='background:rgba(255,235,253,0.190)' title='w=-0.0061'>Ñ </span><span class='tok' style='background:rgba(255,235,251,0.250)' title='w=-0.0153'>Ð¾Ð´Ð½Ð¾ÐºÐ»Ð°ÑÑÐ½Ð¸ÐºÐ°Ð¼Ð¸&lt;/</span><span class='tok' style='background:rgba(255,235,251,0.250)' title='w=-0.0153'>title&gt;&lt;</span><span class='tok' style='background:rgba(255,235,251,0.250)' title='w=-0.0153'>meta </span><span class='tok' style='background:rgba(255,235,251,0.250)' title='w=-0.0153'>content="</span><span class='tok' style='background:rgba(255,235,254,0.164)' title='w=-0.0021'>no-</span><span class='tok' style='background:rgba(255,235,254,0.164)' title='w=-0.0021'>cache" </span><span class='tok' style='background:rgba(255,235,254,0.164)' title='w=-0.0021'>http-</span><span class='tok' style='background:rgba(255,235,254,0.164)' title='w=-0.0021'>equiv="</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>Cache-</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>Control"/&gt;&lt;</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>meta </span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>content="</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>no-</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>cache" </span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>http-</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>equiv="</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>Pragma"/&gt;&lt;</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>meta </span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>content="</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>Mon, </span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>26 </span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>Jul </span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>1997 </span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>05:</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>00:</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>00 </span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>GMT" </span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>http-</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>equiv="</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>Expires"/&gt;&lt;</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>meta </span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>content="</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>origin" </span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>name="</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>referrer"/&gt;&lt;</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>meta </span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>content="</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>no-</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>referrer-</span><span class='tok' style='background:rgba(255,235,254,0.151)' title='w=-0.0002'>when-</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>downgrade" </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>name="</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>referrer"/&gt;&lt;</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>meta </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>content="</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>width=</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>1024" </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>name="</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>viewport"/&gt;&lt;</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>meta </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>content="</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>skype_toolbar_parser_compatible" </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>name="</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>skype_toolbar"/&gt;&lt;</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>meta </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>content="</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>Ð¡Ð¾ÑÐ¸Ð°Ð»ÑÐ½Ð°Ñ </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>ÑÐµÑÑ </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>ÐÐ´Ð½Ð¾ÐºÐ»Ð°ÑÑÐ½Ð¸ÐºÐ¸. </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>ÐÐ±ÑÐµÐ½Ð¸Ðµ </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>Ñ </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>Ð´ÑÑÐ·ÑÑÐ¼Ð¸ </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>Ð² </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>ÐÐ. </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>ÐÐ°ÑÐµ </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>Ð¼ÐµÑÑÐ¾ </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>Ð²ÑÑÑÐµÑÐ¸ </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>Ñ </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>Ð¾Ð´Ð½Ð¾ÐºÐ»Ð°ÑÑÐ½Ð¸ÐºÐ°Ð¼Ð¸" </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>name="</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>title"/&gt;&lt;</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0002'>meta </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>content="</span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>ÐÐ´Ð½Ð¾ÐºÐ»Ð°ÑÑÐ½Ð¸ÐºÐ¸.</span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>ÑÑ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>ÑÑÐ¾ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>ÑÐ¾ÑÐ¸Ð°Ð»ÑÐ½Ð°Ñ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>ÑÐµÑÑ, </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð³Ð´Ðµ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð²Ñ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð¼Ð¾Ð¶ÐµÑÐµ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð½Ð°Ð¹ÑÐ¸ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>ÑÐ²Ð¾Ð¸Ñ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>ÑÑÐ°ÑÑÑ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð´ÑÑÐ·ÐµÐ¹. </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>ÐÐ±ÑÐµÐ½Ð¸Ðµ, </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð¾Ð½Ð»Ð°Ð¹Ð½ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð¸Ð³ÑÑ, </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð¿Ð¾Ð´Ð°ÑÐºÐ¸ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð¸ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð¾ÑÐºÑÑÑÐºÐ¸ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð´Ð»Ñ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð´ÑÑÐ·ÐµÐ¹. </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>ÐÑÐ¸ÑÐ¾Ð´Ð¸ÑÐµ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð² </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>ÐÐ, </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð´ÐµÐ»Ð¸ÑÐµÑÑ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>ÑÐ²Ð¾Ð¸Ð¼Ð¸ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>ÑÐ¼Ð¾ÑÐ¸ÑÐ¼Ð¸ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ñ </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ð´ÑÑÐ·ÑÑÐ¼Ð¸, </span><span class='tok' style='background:rgba(255,235,254,0.156)' title='w=-0.0009'>Ðº</span></noscript><h3 style='margin-top:16px'>Top contributing tokens</h3><div style='display:flex;align-items:center;gap:10px;margin:8px 0'><label class='mono' style='font-size:12px'>Sort: <select id='topsort'><option value='absolute'>absolute</option><option value='signed'>signed</option></select></label></div><table id='toptbl' class='tbl'><thead><tr><th>Token</th><th>Weight</th></tr></thead><tbody></tbody></table><h3 style='margin-top:16px'>All tokens (CSV table)</h3><div style='display:flex;align-items:center;gap:10px;margin:8px 0'><label class='mono' style='font-size:12px'>Sort: <select id='csvsort'><option value='abs_desc'>abs desc</option><option value='abs_asc'>abs asc</option><option value='signed_desc'>signed desc</option><option value='signed_asc'>signed asc</option></select></label><label class='mono' style='font-size:12px'>Filter: <input id='csvfilter' placeholder='substring...'></label></div><table id='csvtbl' class='tbl'><thead><tr><th>Token</th><th>Weight</th></tr></thead><tbody></tbody></table><script>
const TOKENS = ["html<", "html ", "class=\"", "anonym__design21 ", "anonym__design23 ", "anonym__wide ", "vkui ", "vkui--", "vkIdOk--", "light ", "webkit ", "chrome ", "nottouch ", "small-", "toolbar ", "mail-", "ext-", "toolbar-", "disabled ", "__ui-", "theme_colors-", "update ", "__ui-", "theme_enabled ", "__ui-", "theme_light ", "__is-", "layout-", "v1 ", "__optimize-", "mobile-", "inp\" ", "data-", "client-", "state=\"", "ms:", "0;", "dcss:", "0;", "mpv2:", "1;", "dz:", "0\" ", "data-", "initial-", "state-", "id=\"", "anonymMain\" ", "data-", "network-", "errors=\"\" ", "data-", "stat-", "id=\"", "2ef4e9ac-", "d144-", "403d-", "9c91-", "2bcd4a795b2c\" ", "data-", "use-", "hook-", "activator=\"", "1\" ", "lang=\"", "ru\" ", "prefix=\"", "og: ", "http://", "ogp.", "me/", "ns# ", "video: ", "http://", "ogp.", "me/", "ns/", "video# ", "ya: ", "http://", "webmaster.", "yandex.", "ru/", "vocabularies/\"><", "head>", "META ", "START<", "meta ", "content=\"", "text/", "html; ", "charset=", "utf-", "8\" ", "http-", "equiv=\"", "Content-", "Type\"/><", "meta ", "content=\"", "IE=", "edge\" ", "http-", "equiv=\"", "X-", "UA-", "Compatible\"/><", "title>", "\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f ", "\u0441\u0435\u0442\u044c ", "\u041e\u0434\u043d\u043e\u043a\u043b\u0430\u0441\u0441\u043d\u0438\u043a\u0438. ", "\u041e\u0431\u0449\u0435\u043d\u0438\u0435 ", "\u0441 ", "\u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438 ", "\u0432 ", "\u041e\u041a. ", "\u0412\u0430\u0448\u0435 ", "\u043c\u0435\u0441\u0442\u043e ", "\u0432\u0441\u0442\u0440\u0435\u0447\u0438 ", "\u0441 ", "\u043e\u0434\u043d\u043e\u043a\u043b\u0430\u0441\u0441\u043d\u0438\u043a\u0430\u043c\u0438</", "title><", "meta ", "content=\"", "no-", "cache\" ", "http-", "equiv=\"", "Cache-", "Control\"/><", "meta ", "content=\"", "no-", "cache\" ", "http-", "equiv=\"", "Pragma\"/><", "meta ", "content=\"", "Mon, ", "26 ", "Jul ", "1997 ", "05:", "00:", "00 ", "GMT\" ", "http-", "equiv=\"", "Expires\"/><", "meta ", "content=\"", "origin\" ", "name=\"", "referrer\"/><", "meta ", "content=\"", "no-", "referrer-", "when-", "downgrade\" ", "name=\"", "referrer\"/><", "meta ", "content=\"", "width=", "1024\" ", "name=\"", "viewport\"/><", "meta ", "content=\"", "skype_toolbar_parser_compatible\" ", "name=\"", "skype_toolbar\"/><", "meta ", "content=\"", "\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f ", "\u0441\u0435\u0442\u044c ", "\u041e\u0434\u043d\u043e\u043a\u043b\u0430\u0441\u0441\u043d\u0438\u043a\u0438. ", "\u041e\u0431\u0449\u0435\u043d\u0438\u0435 ", "\u0441 ", "\u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438 ", "\u0432 ", "\u041e\u041a. ", "\u0412\u0430\u0448\u0435 ", "\u043c\u0435\u0441\u0442\u043e ", "\u0432\u0441\u0442\u0440\u0435\u0447\u0438 ", "\u0441 ", "\u043e\u0434\u043d\u043e\u043a\u043b\u0430\u0441\u0441\u043d\u0438\u043a\u0430\u043c\u0438\" ", "name=\"", "title\"/><", "meta ", "content=\"", "\u041e\u0434\u043d\u043e\u043a\u043b\u0430\u0441\u0441\u043d\u0438\u043a\u0438.", "\u0440\u0443 ", "\u044d\u0442\u043e ", "\u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f ", "\u0441\u0435\u0442\u044c, ", "\u0433\u0434\u0435 ", "\u0432\u044b ", "\u043c\u043e\u0436\u0435\u0442\u0435 ", "\u043d\u0430\u0439\u0442\u0438 ", "\u0441\u0432\u043e\u0438\u0445 ", "\u0441\u0442\u0430\u0440\u044b\u0445 ", "\u0434\u0440\u0443\u0437\u0435\u0439. ", "\u041e\u0431\u0449\u0435\u043d\u0438\u0435, ", "\u043e\u043d\u043b\u0430\u0439\u043d ", "\u0438\u0433\u0440\u044b, ", "\u043f\u043e\u0434\u0430\u0440\u043a\u0438 ", "\u0438 ", "\u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0438 ", "\u0434\u043b\u044f ", "\u0434\u0440\u0443\u0437\u0435\u0439. ", "\u041f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0435 ", "\u0432 ", "\u041e\u041a, ", "\u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c ", "\u0441\u0432\u043e\u0438\u043c\u0438 ", "\u044d\u043c\u043e\u0446\u0438\u044f\u043c\u0438 ", "\u0441 ", "\u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438, ", "\u043a"];
const WEIGHTS = [0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 0.0005433397163869813, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, 2.046946610789746e-05, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.02448047474899795, -0.02448047474899795, -0.04651434971310664, -0.04651434971310664, -0.025775389658519998, -0.025775389658519998, -0.025775389658519998, -0.025775389658519998, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.00127759829047136, -0.001975617080461234, -0.001975617080461234, -0.001975617080461234, -0.001975617080461234, -0.001975617080461234, -0.001975617080461234, -0.001975617080461234, -0.001975617080461234, -0.07034548610681668, -0.07034548610681668, -0.09968511509941891, -0.09968511509941891, -0.04230769444257021, -0.04230769444257021, -0.04230769444257021, -0.04230769444257021, -0.01028912102628965, -0.01028912102628965, -0.01028912102628965, -0.01028912102628965, -0.006089466463890858, -0.006089466463890858, -0.006089466463890858, -0.006089466463890858, -0.015270059535396285, -0.015270059535396285, -0.015270059535396285, -0.015270059535396285, -0.0021053057425888255, -0.0021053057425888255, -0.0021053057425888255, -0.0021053057425888255, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.0002218853624071926, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.00024132503172187434, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143, -0.0008689689775428143];
const TOP_K = 15;

function isSpecial(t){ return /^<.*>$/.test(t) || /^\[.*\]$/.test(t); }
function render(mode){
    const cont = document.getElementById('tokview'); if(!cont) return; cont.innerHTML='';
    const maxAbs = Math.max(1e-8, ...WEIGHTS.map(v=>Math.abs(v)));
    const fs = document.getElementById('fs') ? document.getElementById('fs').value : 14;
    const showSpec = document.getElementById('showspecial') ? document.getElementById('showspecial').checked : true;
    TOKENS.forEach((t,i)=>{
        if(!showSpec && isSpecial(t)) return;
        const v = WEIGHTS[i]||0; const a = Math.min(Math.abs(v)/maxAbs, 1.0);
        let bg = ''; let color='';
        if(mode==='absolute'){ bg = `rgba(100,150,255,${0.15+0.65*a})`; color='#bcd4ff'; }
        else { if(v>=0){ bg = `rgba(235,245,255,${0.15+0.65*a})`; color='#9cc4ff'; } else { bg = `rgba(255,235,235,${0.15+0.65*a})`; color='#ff9c9c'; } }
        const span = document.createElement('span'); span.className='tok'; span.style.background=bg; span.style.color=color; span.style.fontSize=fs+'px'; span.title='w='+v.toFixed(4);
        span.textContent = t || '\u00a0'; cont.appendChild(span);
    });
}
function filteredIdx(){
    const showSpec = document.getElementById('showspecial') ? document.getElementById('showspecial').checked : true;
    const q = (document.getElementById('csvfilter')?.value||'').toLowerCase();
    const idx=[]; for(let i=0;i<TOKENS.length;i++){ const t=TOKENS[i]||''; if(!showSpec && isSpecial(t)) continue; if(q && !t.toLowerCase().includes(q)) continue; idx.push(i);} return idx;
}
function renderTop(mode){
    const tb = document.querySelector('#toptbl tbody'); if(!tb) return; tb.innerHTML='';
    let idx = filteredIdx();
    if(mode==='absolute'){ idx.sort((a,b)=>Math.abs(WEIGHTS[b])-Math.abs(WEIGHTS[a])); } else { idx.sort((a,b)=>WEIGHTS[b]-WEIGHTS[a]); }
    idx = idx.slice(0, TOP_K);
    idx.forEach(i=>{ const tr=document.createElement('tr'); const td1=document.createElement('td'); td1.className='mono'; td1.textContent=TOKENS[i]; const td2=document.createElement('td'); td2.className='mono'; td2.style.textAlign='right'; td2.textContent=(WEIGHTS[i]||0).toFixed(4); tr.appendChild(td1); tr.appendChild(td2); tb.appendChild(tr); });
}
function renderCsv(){
    const tb = document.querySelector('#csvtbl tbody'); if(!tb) return; tb.innerHTML='';
    let idx = filteredIdx(); const s=document.getElementById('csvsort')?.value||'abs_desc';
    const cmp={abs_desc:(a,b)=>Math.abs(WEIGHTS[b])-Math.abs(WEIGHTS[a]), abs_asc:(a,b)=>Math.abs(WEIGHTS[a])-Math.abs(WEIGHTS[b]), signed_desc:(a,b)=>WEIGHTS[b]-WEIGHTS[a], signed_asc:(a,b)=>WEIGHTS[a]-WEIGHTS[b]};
    idx.sort(cmp[s]);
    idx.forEach(i=>{ const tr=document.createElement('tr'); const td1=document.createElement('td'); td1.className='mono'; td1.textContent=TOKENS[i]; const td2=document.createElement('td'); td2.className='mono'; td2.style.textAlign='right'; td2.textContent=(WEIGHTS[i]||0).toFixed(6); tr.appendChild(td1); tr.appendChild(td2); tb.appendChild(tr); });
}
const sel=document.getElementById('modeSel'); const fs=document.getElementById('fs'); const fsv=document.getElementById('fsval');
if(sel){ sel.onchange=()=>{render(sel.value); const ts=document.getElementById('topsort'); if(ts) renderTop(ts.value); renderCsv();}; } if(fs){ fs.oninput=()=>{fsv.textContent=fs.value; render(sel?sel.value:'signed');}; }
const ss=document.getElementById('showspecial'); if(ss){ ss.onchange=()=>{ render(sel?sel.value:'signed'); const ts=document.getElementById('topsort'); if(ts) renderTop(ts.value); renderCsv(); }; }
const ts=document.getElementById('topsort'); if(ts){ ts.onchange=()=>renderTop(ts.value); }
const cs=document.getElementById('csvsort'); if(cs){ cs.onchange=()=>renderCsv(); }
const cf=document.getElementById('csvfilter'); if(cf){ cf.oninput=()=>renderCsv(); }
const csv=document.getElementById('csv'); if(csv){ csv.onclick=()=>{
    let rows=['token,weight']; const idx=filteredIdx(); for(const i of idx){ const tok=(TOKENS[i]||'').replaceAll('"','""'); rows.push('"'+tok+'",'+(WEIGHTS[i]||0).toFixed(6)); }
    const blob=new Blob([rows.join('\n')],{type:'text/csv;charset=utf-8;'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='token_weights_filtered.csv'; a.click();
}; }
const csvAll=document.getElementById('csv_all'); if(csvAll){ csvAll.onclick=()=>{
    let rows=['token,weight']; for(let i=0;i<TOKENS.length;i++){ const t=TOKENS[i]||''; const tok=t.replaceAll('"','""'); rows.push('"'+tok+'",'+(WEIGHTS[i]||0).toFixed(6)); }
    const blob=new Blob([rows.join('\n')],{type:'text/csv;charset=utf-8;'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='token_weights_all.csv'; a.click();
}; }
const cpy=document.getElementById('copycsv'); if(cpy){ cpy.onclick=async()=>{ let rows=['token,weight']; const idx=filteredIdx(); for(const i of idx){ const tok=(TOKENS[i]||'').replaceAll('"','""'); rows.push('"'+tok+'",'+(WEIGHTS[i]||0).toFixed(6)); } const txt=rows.join('\n'); try{ await navigator.clipboard.writeText(txt);}catch(e){ console.log(e);} }; }
render('signed'); const ts0=document.getElementById('topsort'); renderTop(ts0?ts0.value:'absolute'); renderCsv();
</script></div></div></div></body></html>