<html><head><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta name='color-scheme' content='dark'><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif}a{color:#8ab4f8} .lime{color:#e6e6e6} .table{background:#111} svg{background:#0f1115}</style><meta charset='utf-8'><meta name='color-scheme' content='dark'><title>SHAP (DOM)</title><style>body{background:#0f1115;color:#e6e6e6;font-family:system-ui,Arial,sans-serif;margin:0}.wrap{max-width:1200px;margin:0 auto;padding:16px}.top{display:flex;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid #262b36;background:#0b0e14;position:sticky;top:0}.pill{display:inline-block;padding:2px 8px;border-radius:999px;background:#1f2330;color:#cbd5e1;border:1px solid #2a2f3a;font-size:12px}a{color:#8ab4f8}.grid{display:grid;grid-template-columns:320px 1fr;gap:16px;margin-top:16px}.card{background:#0f1320;border:1px solid #262b36;border-radius:8px;padding:12px}.kv{display:grid;grid-template-columns:1fr auto;gap:6px 10px;font-size:14px} .kv div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tok{display:inline-block;margin:2px 2px;padding:2px 4px;border-radius:4px}.legend span{display:inline-block;padding:3px 8px;border-radius:999px;margin-right:8px;border:1px solid #333}.pos{background:rgba(235,245,255,0.3);color:#9cc4ff} .neg{background:rgba(255,235,235,0.3);color:#ff9c9c}.body{background:#0b0e14}.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', monospace}.tbl{width:100%;border-collapse:collapse} .tbl td,.tbl th{border:1px solid #333;padding:6px 8px} .tbl th{background:#0b0e14}</style></head><body class='body'><div style="padding:8px 10px;margin:8px 0;border:1px solid #2a2f3a;background:#0b0e14;color:#cbd5e1;border-radius:6px;"><div style='display:flex;align-items:center;gap:10px'><div>Source: <a href='http://businessinsider.com/' target='_blank' style='color:#8ab4f8'>http://businessinsider.com/</a></div><div style='margin-left:auto'></div></div></div><div class='top'><div class='pill'>Explain</div><div class='mono' style='opacity:.8'>SHAP (DOM)</div><div style='margin-left:auto'><a href='http://businessinsider.com/' target='_blank'>http://businessinsider.com/</a></div><div class='pill' style='margin-left:8px;background:#1a2a1a;border-color:#245c2a;color:#a7e3a7'>pred: benign Â· 56.97%</div></div><div class='wrap'><div class='grid'><div class='card'><h3 style='margin:0 0 8px 0'>Details</h3><div class='kv'><div style='color:#9aa4b2'>ID</div><div class='mono'>e19471a7d5e6f1746e94bddef74bc512f2bfa0ee</div><div style='color:#9aa4b2'>Explainer</div><div class='mono'>SHAP (DOM)</div><div style='color:#9aa4b2'>Device</div><div class='mono'>cuda</div><div style='color:#9aa4b2'>P(benign)</div><div class='mono'>0.570</div><div style='color:#9aa4b2'>P(phish)</div><div class='mono'>0.430</div><div style='color:#9aa4b2'>Chars</div><div class='mono'>1500</div><div style='color:#9aa4b2'>Tokens</div><div class='mono'>267</div></div><div style='margin-top:8px'><div style='margin:4px 0'><div class='mono' style='font-size:12px;margin-bottom:2px'>benign: 57.0%</div><div style='height:10px;background:#1f2330;border:1px solid #2a2f3a;border-radius:5px;overflow:hidden'><div style='height:100%;width:56%;background:linear-gradient(90deg,#2b6cb0,#63b3ed)'></div></div></div><div style='margin:4px 0'><div class='mono' style='font-size:12px;margin-bottom:2px'>phish: 43.0%</div><div style='height:10px;background:#1f2330;border:1px solid #2a2f3a;border-radius:5px;overflow:hidden'><div style='height:100%;width:43%;background:linear-gradient(90deg,#2b6cb0,#63b3ed)'></div></div></div></div></div><div class='card'><div class='legend' style='margin-bottom:8px'><span class='pos'>supports class 1</span><span class='neg'>opposes class 1</span></div><div style='display:flex;gap:12px;align-items:center;margin-bottom:10px'><label class='mono' style='font-size:12px'>Heatmap: <select id='modeSel'><option value='signed' selected>signed</option><option value='absolute'>absolute</option></select></label><label class='mono' style='font-size:12px'>Font size: <input id='fs' type='range' min='10' max='24' step='1' value='14'> <span id='fsval' class='mono'>14</span>px</label><button id='csv_all' class='pill'>CSV (all)</button><button id='csv' class='pill'>CSV (filtered)</button><button id='copycsv' class='pill'>Copy CSV</button><label class='mono' style='font-size:12px;display:flex;align-items:center;gap:6px'><input id='showspecial' type='checkbox' checked> show special tokens</label></div><div id='tokview' class='mono' style='line-height:1.9'></div><noscript><div>JavaScript disabled; showing static tokens:</div><span class='tok' style='background:rgba(255,235,248,0.371)' title='w=-0.0120'>html&lt;</span><span class='tok' style='background:rgba(255,235,248,0.371)' title='w=-0.0120'>html </span><span class='tok' style='background:rgba(255,235,248,0.371)' title='w=-0.0120'>lang="</span><span class='tok' style='background:rgba(255,235,248,0.371)' title='w=-0.0120'>en-</span><span class='tok' style='background:rgba(255,235,247,0.403)' title='w=-0.0138'>US"&gt;&lt;</span><span class='tok' style='background:rgba(255,235,247,0.403)' title='w=-0.0138'>head&gt;&lt;</span><span class='tok' style='background:rgba(255,235,247,0.403)' title='w=-0.0138'>script </span><span class='tok' style='background:rgba(255,235,247,0.403)' title='w=-0.0138'>id="</span><span class='tok' style='background:rgba(255,235,251,0.277)' title='w=-0.0069'>fenrir-</span><span class='tok' style='background:rgba(255,235,251,0.277)' title='w=-0.0069'>console-</span><span class='tok' style='background:rgba(255,235,251,0.277)' title='w=-0.0069'>script"&gt;(()=&gt;{</span><span class='tok' style='background:rgba(255,235,251,0.277)' title='w=-0.0069'>var </span><span class='tok' style='background:rgba(255,235,254,0.159)' title='w=-0.0005'>e={</span><span class='tok' style='background:rgba(255,235,254,0.159)' title='w=-0.0005'>15517:()=&gt;{</span><span class='tok' style='background:rgba(255,235,254,0.159)' title='w=-0.0005'>if(</span><span class='tok' style='background:rgba(255,235,254,0.159)' title='w=-0.0005'>window.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>Fenrir=</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>window.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>Fenrir||{</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>config:{}},!</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>window.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>Fenrir.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>console){</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>window.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>Fenrir.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>console={};</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>const </span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>e=</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>new </span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>URLSearchParams(</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>document.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0001'>location.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>search),</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>n=</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>window.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>Fenrir?.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>config?.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>featureFlags?.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>logs||</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>e.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>has("</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>logs");</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>Object.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>entries(</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>window.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>console).</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>forEach((</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>e=&gt;{</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>let[</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>o,</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>r]=</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>e;"</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>function"==</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>typeof </span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>r&amp;&amp;(</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>window.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>Fenrir.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>console[</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>o]=</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>n?</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>r.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>bind(</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>window.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>console):()=&gt;{})}))}</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>window.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>Fenrir.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>getTime||(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>window.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>Fenrir.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>getTime=</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>function(){</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>const </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>e=</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>new </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>Date;</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>function </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>e){</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>let </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n=</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>arguments.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>length&gt;</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>1&amp;&amp;</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>void </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>0!==</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>arguments[</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>1]?</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>arguments[</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>1]:"</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>00";</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>return`${</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n}${</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>e}`.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>slice(-</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>length)}</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>return`${</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>e.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>getHours())}:${</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>e.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>getMinutes())}:${</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>e.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>getSeconds())}.${</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>e.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>getMilliseconds(),"</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>000")}`})}},</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n={};</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>function </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>o(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>r){</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>var </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>i=</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n[</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>r];</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>if(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>void </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>0!==</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>i)</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>return </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>i.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>exports;</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>var </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>t=</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n[</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>r]={</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>exports:{}};</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>return </span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>e[</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>r](</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>t,</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>t.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>exports,</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>o),</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>t.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>exports}</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>o.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>m=</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>e,</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>o.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>c=</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>n,</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>o.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>o=(</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>e,</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>n)=&gt;</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>Object.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>prototype.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>hasOwnProperty.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>call(</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>e,</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>n),(()=&gt;{</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>o.</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>S={};</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>var </span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>e={},</span><span class='tok' style='background:rgba(255,235,254,0.153)' title='w=-0.0002'>n={};</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>o.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>I=(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>r,</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>i)=&gt;{</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>i||(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>i=[]);</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>var </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>t=</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n[</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>r];</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>if(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>t||(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>t=</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>n[</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>r]={}),!(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>i.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>indexOf(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>t)&gt;=</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>0)){</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>if(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>i.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>push(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>t),</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>e[</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>r])</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>return </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>e[</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>r];</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>o.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>o(</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>o.</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>S,</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>r)||(</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>o.</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>S[</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>r]={});</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>o.</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>S[</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>r];</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>var </span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>s=[];</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>return </span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>s.</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>length?</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>e[</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>r]=</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>Promise.</span><span class='tok' style='background:rgba(255,235,254,0.158)' title='w=-0.0004'>all(</span><span class='tok' style='background:rgba(255,235,254,0.157)' title='w=-0.0004'>s).</span><span class='tok' style='background:rgba(255,235,254,0.157)' title='w=-0.0004'>then((()=&gt;</span><span class='tok' style='background:rgba(255,235,254,0.157)' title='w=-0.0004'>e[</span><span class='tok' style='background:rgba(255,235,254,0.157)' title='w=-0.0004'>r]=</span><span class='tok' style='background:rgba(255,235,254,0.157)' title='w=-0.0004'>1)):</span><span class='tok' style='background:rgba(255,235,254,0.157)' title='w=-0.0004'>e[</span><span class='tok' style='background:rgba(255,235,254,0.157)' title='w=-0.0004'>r]=</span><span class='tok' style='background:rgba(255,235,254,0.157)' title='w=-0.0004'>1}}})();</span><span class='tok' style='background:rgba(255,235,235,0.800)' title='w=-0.0355'>o(</span><span class='tok' style='background:rgba(255,235,235,0.800)' title='w=-0.0355'>15517)})();&lt;/</span><span class='tok' style='background:rgba(255,235,235,0.800)' title='w=-0.0355'>script&gt;&lt;</span><span class='tok' style='background:rgba(255,235,235,0.800)' title='w=-0.0355'>title&gt;</span><span class='tok' style='background:rgba(254,254,255,0.168)' title='w=0.0010'>Business </span><span class='tok' style='background:rgba(254,254,255,0.168)' title='w=0.0010'>Insider - </span><span class='tok' style='background:rgba(254,254,255,0.168)' title='w=0.0010'>Latest </span><span class='tok' style='background:rgba(254,254,255,0.168)' title='w=0.0010'>News </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>in </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>Tech, </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>Markets, </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>Economy &amp;</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>amp; </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>Innovation&lt;/</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>title&gt;&lt;</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>meta </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>charset="</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>utf-</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>8"/&gt;&lt;</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>meta </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>content="</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>width=</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>device-</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>width, </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>initial-</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>scale=</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>1" </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>name="</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>viewport"/&gt;&lt;</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>meta </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>content="</span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>Business </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>Insider </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>tells </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>the </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>global </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>tech, </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>finance, </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>stock </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>market, </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>media, </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>economy, </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>lifestyle, </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>real </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>estate, </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>AI </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>and </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>innovative </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>stories </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>you </span><span class='tok' style='background:rgba(255,235,254,0.152)' title='w=-0.0001'>w</span></noscript><h3 style='margin-top:16px'>Top contributing tokens</h3><div style='display:flex;align-items:center;gap:10px;margin:8px 0'><label class='mono' style='font-size:12px'>Sort: <select id='topsort'><option value='absolute'>absolute</option><option value='signed'>signed</option></select></label></div><table id='toptbl' class='tbl'><thead><tr><th>Token</th><th>Weight</th></tr></thead><tbody></tbody></table><h3 style='margin-top:16px'>All tokens (CSV table)</h3><div style='display:flex;align-items:center;gap:10px;margin:8px 0'><label class='mono' style='font-size:12px'>Sort: <select id='csvsort'><option value='abs_desc'>abs desc</option><option value='abs_asc'>abs asc</option><option value='signed_desc'>signed desc</option><option value='signed_asc'>signed asc</option></select></label><label class='mono' style='font-size:12px'>Filter: <input id='csvfilter' placeholder='substring...'></label></div><table id='csvtbl' class='tbl'><thead><tr><th>Token</th><th>Weight</th></tr></thead><tbody></tbody></table><script>
const TOKENS = ["html<", "html ", "lang=\"", "en-", "US\"><", "head><", "script ", "id=\"", "fenrir-", "console-", "script\">(()=>{", "var ", "e={", "15517:()=>{", "if(", "window.", "Fenrir=", "window.", "Fenrir||{", "config:{}},!", "window.", "Fenrir.", "console){", "window.", "Fenrir.", "console={};", "const ", "e=", "new ", "URLSearchParams(", "document.", "location.", "search),", "n=", "window.", "Fenrir?.", "config?.", "featureFlags?.", "logs||", "e.", "has(\"", "logs\");", "Object.", "entries(", "window.", "console).", "forEach((", "e=>{", "let[", "o,", "r]=", "e;\"", "function\"==", "typeof ", "r&&(", "window.", "Fenrir.", "console[", "o]=", "n?", "r.", "bind(", "window.", "console):()=>{})}))}", "window.", "Fenrir.", "getTime||(", "window.", "Fenrir.", "getTime=", "function(){", "const ", "e=", "new ", "Date;", "function ", "n(", "e){", "let ", "n=", "arguments.", "length>", "1&&", "void ", "0!==", "arguments[", "1]?", "arguments[", "1]:\"", "00\";", "return`${", "n}${", "e}`.", "slice(-", "n.", "length)}", "return`${", "n(", "e.", "getHours())}:${", "n(", "e.", "getMinutes())}:${", "n(", "e.", "getSeconds())}.${", "n(", "e.", "getMilliseconds(),\"", "000\")}`})}},", "n={};", "function ", "o(", "r){", "var ", "i=", "n[", "r];", "if(", "void ", "0!==", "i)", "return ", "i.", "exports;", "var ", "t=", "n[", "r]={", "exports:{}};", "return ", "e[", "r](", "t,", "t.", "exports,", "o),", "t.", "exports}", "o.", "m=", "e,", "o.", "c=", "n,", "o.", "o=(", "e,", "n)=>", "Object.", "prototype.", "hasOwnProperty.", "call(", "e,", "n),(()=>{", "o.", "S={};", "var ", "e={},", "n={};", "o.", "I=(", "r,", "i)=>{", "i||(", "i=[]);", "var ", "t=", "n[", "r];", "if(", "t||(", "t=", "n[", "r]={}),!(", "i.", "indexOf(", "t)>=", "0)){", "if(", "i.", "push(", "t),", "e[", "r])", "return ", "e[", "r];", "o.", "o(", "o.", "S,", "r)||(", "o.", "S[", "r]={});", "o.", "S[", "r];", "var ", "s=[];", "return ", "s.", "length?", "e[", "r]=", "Promise.", "all(", "s).", "then((()=>", "e[", "r]=", "1)):", "e[", "r]=", "1}}})();", "o(", "15517)})();</", "script><", "title>", "Business ", "Insider - ", "Latest ", "News ", "in ", "Tech, ", "Markets, ", "Economy &", "amp; ", "Innovation</", "title><", "meta ", "charset=\"", "utf-", "8\"/><", "meta ", "content=\"", "width=", "device-", "width, ", "initial-", "scale=", "1\" ", "name=\"", "viewport\"/><", "meta ", "content=\"", "Business ", "Insider ", "tells ", "the ", "global ", "tech, ", "finance, ", "stock ", "market, ", "media, ", "economy, ", "lifestyle, ", "real ", "estate, ", "AI ", "and ", "innovative ", "stories ", "you ", "w"];
const WEIGHTS = [-0.012041682726703584, -0.012041682726703584, -0.012041682726703584, -0.012041682726703584, -0.013775909668765962, -0.013775909668765962, -0.013775909668765962, -0.013775909668765962, -0.006908460985869169, -0.006908460985869169, -0.006908460985869169, -0.006908460985869169, -0.0004800467286258936, -0.0004800467286258936, -0.0004800467286258936, -0.0004800467286258936, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.00014870858285576105, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001754384720697999, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.0001237152609974146, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.00011760042980313301, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001668919576331973, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -0.0001799714518710971, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -9.871588554233313e-05, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.0004221052567784985, -0.00036219443970670305, -0.00036219443970670305, -0.00036219443970670305, -0.00036219443970670305, -0.00036219443970670305, -0.00036219443970670305, -0.00036219443970670305, -0.00036219443970670305, -0.03545161005419989, -0.03545161005419989, -0.03545161005419989, -0.03545161005419989, 0.0009749576511482397, 0.0009749576511482397, 0.0009749576511482397, 0.0009749576511482397, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.0001079862420411073, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110732, -0.00010798624204110732, -0.00010798624204110732, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731, -0.00010798624204110731];
const TOP_K = 15;

function isSpecial(t){ return /^<.*>$/.test(t) || /^\[.*\]$/.test(t); }
function render(mode){
    const cont = document.getElementById('tokview'); if(!cont) return; cont.innerHTML='';
    const maxAbs = Math.max(1e-8, ...WEIGHTS.map(v=>Math.abs(v)));
    const fs = document.getElementById('fs') ? document.getElementById('fs').value : 14;
    const showSpec = document.getElementById('showspecial') ? document.getElementById('showspecial').checked : true;
    TOKENS.forEach((t,i)=>{
        if(!showSpec && isSpecial(t)) return;
        const v = WEIGHTS[i]||0; const a = Math.min(Math.abs(v)/maxAbs, 1.0);
        let bg = ''; let color='';
        if(mode==='absolute'){ bg = `rgba(100,150,255,${0.15+0.65*a})`; color='#bcd4ff'; }
        else { if(v>=0){ bg = `rgba(235,245,255,${0.15+0.65*a})`; color='#9cc4ff'; } else { bg = `rgba(255,235,235,${0.15+0.65*a})`; color='#ff9c9c'; } }
        const span = document.createElement('span'); span.className='tok'; span.style.background=bg; span.style.color=color; span.style.fontSize=fs+'px'; span.title='w='+v.toFixed(4);
        span.textContent = t || '\u00a0'; cont.appendChild(span);
    });
}
function filteredIdx(){
    const showSpec = document.getElementById('showspecial') ? document.getElementById('showspecial').checked : true;
    const q = (document.getElementById('csvfilter')?.value||'').toLowerCase();
    const idx=[]; for(let i=0;i<TOKENS.length;i++){ const t=TOKENS[i]||''; if(!showSpec && isSpecial(t)) continue; if(q && !t.toLowerCase().includes(q)) continue; idx.push(i);} return idx;
}
function renderTop(mode){
    const tb = document.querySelector('#toptbl tbody'); if(!tb) return; tb.innerHTML='';
    let idx = filteredIdx();
    if(mode==='absolute'){ idx.sort((a,b)=>Math.abs(WEIGHTS[b])-Math.abs(WEIGHTS[a])); } else { idx.sort((a,b)=>WEIGHTS[b]-WEIGHTS[a]); }
    idx = idx.slice(0, TOP_K);
    idx.forEach(i=>{ const tr=document.createElement('tr'); const td1=document.createElement('td'); td1.className='mono'; td1.textContent=TOKENS[i]; const td2=document.createElement('td'); td2.className='mono'; td2.style.textAlign='right'; td2.textContent=(WEIGHTS[i]||0).toFixed(4); tr.appendChild(td1); tr.appendChild(td2); tb.appendChild(tr); });
}
function renderCsv(){
    const tb = document.querySelector('#csvtbl tbody'); if(!tb) return; tb.innerHTML='';
    let idx = filteredIdx(); const s=document.getElementById('csvsort')?.value||'abs_desc';
    const cmp={abs_desc:(a,b)=>Math.abs(WEIGHTS[b])-Math.abs(WEIGHTS[a]), abs_asc:(a,b)=>Math.abs(WEIGHTS[a])-Math.abs(WEIGHTS[b]), signed_desc:(a,b)=>WEIGHTS[b]-WEIGHTS[a], signed_asc:(a,b)=>WEIGHTS[a]-WEIGHTS[b]};
    idx.sort(cmp[s]);
    idx.forEach(i=>{ const tr=document.createElement('tr'); const td1=document.createElement('td'); td1.className='mono'; td1.textContent=TOKENS[i]; const td2=document.createElement('td'); td2.className='mono'; td2.style.textAlign='right'; td2.textContent=(WEIGHTS[i]||0).toFixed(6); tr.appendChild(td1); tr.appendChild(td2); tb.appendChild(tr); });
}
const sel=document.getElementById('modeSel'); const fs=document.getElementById('fs'); const fsv=document.getElementById('fsval');
if(sel){ sel.onchange=()=>{render(sel.value); const ts=document.getElementById('topsort'); if(ts) renderTop(ts.value); renderCsv();}; } if(fs){ fs.oninput=()=>{fsv.textContent=fs.value; render(sel?sel.value:'signed');}; }
const ss=document.getElementById('showspecial'); if(ss){ ss.onchange=()=>{ render(sel?sel.value:'signed'); const ts=document.getElementById('topsort'); if(ts) renderTop(ts.value); renderCsv(); }; }
const ts=document.getElementById('topsort'); if(ts){ ts.onchange=()=>renderTop(ts.value); }
const cs=document.getElementById('csvsort'); if(cs){ cs.onchange=()=>renderCsv(); }
const cf=document.getElementById('csvfilter'); if(cf){ cf.oninput=()=>renderCsv(); }
const csv=document.getElementById('csv'); if(csv){ csv.onclick=()=>{
    let rows=['token,weight']; const idx=filteredIdx(); for(const i of idx){ const tok=(TOKENS[i]||'').replaceAll('"','""'); rows.push('"'+tok+'",'+(WEIGHTS[i]||0).toFixed(6)); }
    const blob=new Blob([rows.join('\n')],{type:'text/csv;charset=utf-8;'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='token_weights_filtered.csv'; a.click();
}; }
const csvAll=document.getElementById('csv_all'); if(csvAll){ csvAll.onclick=()=>{
    let rows=['token,weight']; for(let i=0;i<TOKENS.length;i++){ const t=TOKENS[i]||''; const tok=t.replaceAll('"','""'); rows.push('"'+tok+'",'+(WEIGHTS[i]||0).toFixed(6)); }
    const blob=new Blob([rows.join('\n')],{type:'text/csv;charset=utf-8;'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='token_weights_all.csv'; a.click();
}; }
const cpy=document.getElementById('copycsv'); if(cpy){ cpy.onclick=async()=>{ let rows=['token,weight']; const idx=filteredIdx(); for(const i of idx){ const tok=(TOKENS[i]||'').replaceAll('"','""'); rows.push('"'+tok+'",'+(WEIGHTS[i]||0).toFixed(6)); } const txt=rows.join('\n'); try{ await navigator.clipboard.writeText(txt);}catch(e){ console.log(e);} }; }
render('signed'); const ts0=document.getElementById('topsort'); renderTop(ts0?ts0.value:'absolute'); renderCsv();
</script></div></div></div></body></html>